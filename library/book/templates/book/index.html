{% extends 'book/base_with_header.html' %}
{% load static%}

{% block content %}

<div class="book-list-section">

    <div class="book-list-header clearfix">
        <div class="book-list-title">新着アップロード</div>
        <div class="book-list-more"><a href="">もっと見る ▶︎</a></div>
    </div>

    <ul class="horizontal-list">
        {% for book in object_list %}
        <li class="item">
            <!--<a href="/book/{{ book.id }}/">{{ book.title }}</a>-->
            <a href="/book/{{ book.id }}/">
                <img class="lazy" data-original="{{ book.images.first.image.url }}" width="100%">
            </a>
        </li>
        {% endfor %}
    </ul>
</div>

{% endblock %}

{% block extrajs %}
{{ block.super }}
<script src="{% static 'lib/js/jquery.lazyload.js' %}"></script>
<script src="{% static 'lib/js/jquery.scrollstop.js' %}"></script>

<script type="text/javascript">
    $('img.lazy').lazyload({
        threshold: 200,    // 読み込み閾値 px
        effect: 'fadeIn',  // 読み込みエフェクトも指定できる
    });
</script>

{% endblock %}


{% block extracss %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static 'book/css/booklist.css' %}"/>
<style>
    .container {
        max-width: 90%;
    }

    .horizontal-list {
        overflow-x: auto;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
    }

    .item {
        /* 横スクロール用 */
        display: inline-block;

        /* 見た目調整 */
        width: 279px;
        /*height: 400px;*/
        margin: 16px 40px 16px 0;
        font-size: 48px;
        /*background: rgba(255, 0, 0, 0.4);*/
        box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.4);
    }
</style>
{% endblock %}